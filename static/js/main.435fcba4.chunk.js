(this["webpackJsonploot-council-react"]=this["webpackJsonploot-council-react"]||[]).push([[0],{39:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(15),r=s.n(c),i=s(6),l=s(5),o=s.p+"static/media/mo_logo.41a78959.png",d=(s(39),s(0)),j=function(){return Object(d.jsxs)("nav",{children:[Object(d.jsxs)(i.b,{to:"/",className:"flex",children:[Object(d.jsx)("img",{className:"logo",alt:"MO Logo",src:o}),Object(d.jsx)("h1",{children:"Mystical Odour"})]}),Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsxs)("div",{className:"subnav",children:[Object(d.jsxs)("button",{className:"subnavbtn",children:["Overview ",Object(d.jsx)("i",{className:"fa fa-caret-down"})]}),Object(d.jsxs)("div",{className:"subnav-content",children:[Object(d.jsx)(i.b,{to:"/classes",children:"Classes"}),Object(d.jsx)(i.b,{to:"/roles",children:"Roles"}),Object(d.jsx)(i.b,{to:"/ranks",children:"Ranks"}),Object(d.jsx)(i.b,{to:"/raids",children:"Raids"})]})]}),Object(d.jsx)(i.b,{className:"link",to:"/loot-council",children:"Loot Council"})]})]})},b=s(7),u=s(3),h=s.n(u),m=s(4),f=s(34),O=s(81),p=["class_id","role_id","rank_id"],x=new O.a,g={members:[],roles:[],ranks:[],classes:[],raids:[],events:[],items:[],attendance:[],selectedMember:{id:"",member:"",class:"",rank:"",role:"",prev_raids:"",absence:"",six_months:!1},loading:!1,lcPlayers:[],error:""},v=g,S={init:function(){return x.next(v)},subscribe:function(e){return x.subscribe(e)},setData:function(e){var t=e.members.reduce((function(t,s){var a=s.class_id,n=s.role_id,c=s.rank_id,r=Object(f.a)(s,p),i=Object(m.a)(Object(m.a)({},r),{},{six_months:r.six_months,class:e.classes.find((function(e){return e.id===a})).title,role:e.roles.find((function(e){return e.id===n})).title,rank:e.ranks.find((function(e){return e.id===c})).title});return t.push(i),t}),[]);v=Object(m.a)(Object(m.a)({},v),{},{members:t,roles:e.roles,ranks:e.ranks,classes:e.classes}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setPlayers:function(e){v=Object(m.a)(Object(m.a)({},v),{},{lcPlayers:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setMember:function(e){v=Object(m.a)(Object(m.a)({},v),{},{selectedMember:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setItems:function(e){v=Object(m.a)(Object(m.a)({},v),{},{items:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setEvents:function(e,t){var s=t.reduce((function(t,s){var a=s.id,n=s.member_id,c=s.raid_id,r=s.event_id,i=e.find((function(e){return e.id===r})),l={id:a,member_id:n,raid_id:c,event:i?i.title:""};return t.push(l),t}),[]);v=Object(m.a)(Object(m.a)({},v),{},{attendance:s,events:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setRaids:function(e){v=Object(m.a)(Object(m.a)({},v),{},{raids:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setLoading:function(e){v=Object(m.a)(Object(m.a)({},v),{},{loading:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},setError:function(e){v=Object(m.a)(Object(m.a)({},v),{},{error:e}),sessionStorage.setItem("state",JSON.stringify(v)),x.next(v)},initialState:g},N=h.a.create({baseURL:"https://sheet.best/api/sheets/70c3377f-b2ef-4e62-8709-93d817d4c366",headers:{"Content-Type":"application/json"}}),A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},y=[{title:"Player",fields:[{label:"Name",id:"member"},{label:"Class",id:"class_id"},{label:"Role",id:"role_id"},{label:"Rank",id:"rank_id"}]},{title:"Raid",fields:[{label:"Name",id:"member"}]}],w=(s(64),function(e){var t,s=e.member,a=e.interactive,n=void 0===a||a,c=e.propClass,r=void 0===c?"":c,i=Object(l.f)(),o=-1!==s.member.indexOf("/")?s.member.slice(0,s.member.indexOf("/")):s.member;return Object(d.jsxs)("section",{className:"member ".concat(s.class," ").concat(r),children:[Object(d.jsx)("img",{className:"class-icon",alt:s.class,src:"/assets/".concat(s.class.replace(/\s/g,""),".png")}),Object(d.jsxs)("div",{className:"member-wrapper",children:[Object(d.jsx)("header",{className:"member-header",children:Object(d.jsx)("h1",{onClick:function(){n&&(S.setMember(s),i.push("/members/id/".concat(s.id)))},children:s.member})}),Object(d.jsx)("p",{children:(t=s.class,t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))}),Object(d.jsxs)("p",{children:["Rank: ",A(s.rank)]}),Object(d.jsxs)("a",{href:"https://classic.warcraftlogs.com/character/eu/firemaw/".concat(o),target:"_blank",className:"tooltip",rel:"noreferrer",children:[Object(d.jsx)("img",{className:"icon",alt:"Warcraft Logs",src:"data:image/png;base64,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"}),Object(d.jsx)("span",{className:"tooltip-text",children:"Warcraft Logs"})]})]})]})}),k=function(e){var t=e.items,s=e.playerClass,a=e.maxHeight,n=e.raids;return Object(d.jsxs)("section",{className:"player-info ".concat(s),children:[Object(d.jsx)("h3",{className:"pink",children:"Loot Recieved"}),t.length?Object(d.jsx)("div",{className:"table-wrapper",style:{maxHeight:a},children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Raid"}),Object(d.jsx)("th",{children:"Item"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){var t=n.find((function(t){return t.id===e.raid_id}));return Object(d.jsxs)("tr",{children:[t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{children:t.date}),Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{to:"/raids/".concat(t.id),children:t.title})})]}),Object(d.jsx)("td",{children:Object(d.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://tbc.wowhead.com/item=".concat(e.item_id),children:[e.title," - ",e.spec]})})]},e.id)}))})]})}):Object(d.jsx)("p",{children:"No loot recieved!"})]})},I=function(e){var t=e.member,s=e.raidTotal,a=e.totalLoot,n=e.attendance,c=t.absence,r=t.prev_raids,i=t.six_months,l=n.reduce((function(e,t){return"No Show"===t.event&&(e.no_show+=1),"Late"===t.event&&(e.late+=1),"Passed Spot"===t.event&&(e.passed_spot+=1),e}),{no_show:0,late:0,passed_spot:0}),o=l.no_show,j=l.late,b=l.passed_spot,u=a.length,h=Math.ceil(Number(+r)/s*100);return Object(d.jsxs)("section",{className:"player-info ".concat(t.class),children:[Object(d.jsx)("h3",{className:"pink",children:"Player Stats"}),Object(d.jsxs)("section",{className:"flex",style:{justifyContent:"space-between"},children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Missed Raids: ",c]}),Object(d.jsxs)("p",{children:["Total loot recieved: ",u]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Attendance: ",isNaN(h)?0:h,"%"]}),Object(d.jsxs)("p",{children:["No shows: ",o]}),Object(d.jsxs)("p",{children:["Late: ",j]}),Object(d.jsxs)("p",{children:["Passed Spot: ",b]}),i?Object(d.jsxs)("p",{children:["6 months",Object(d.jsx)("sup",{children:"+"})," member"]}):null]})]})]})},L=(s(65),function(){var e=sessionStorage.getItem("state"),t=Object(a.useState)(e?JSON.parse(e):S.initialState),s=Object(b.a)(t,2),n=s[0],c=n.selectedMember,r=n.events,i=n.items,o=n.raids,j=n.attendance,u=s[1],m=Object(l.g)();Object(a.useLayoutEffect)((function(){var e=sessionStorage.getItem("state");u(e?JSON.parse(e):S.initialState)}),[u]),Object(a.useEffect)((function(){r.length||h.a.all([N.get("/tabs/events"),N.get("/tabs/attendance")]).then(h.a.spread((function(e,t){S.setEvents(e.data,t.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),o.length||h.a.all([N.get("/tabs/raids")]).then(h.a.spread((function(e){S.setRaids(e.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),i.length||h.a.all([N.get("/tabs/items")]).then(h.a.spread((function(e){S.setItems(e.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)}))}),[m.pathname,o,i,r]);var f=i.filter((function(e){return e.member_id===c.id})),O=j.filter((function(e){return e.member_id===c.id}));return Object(d.jsxs)("main",{className:"wrapper",children:[Object(d.jsx)(w,{member:c,interactive:!1,propClass:"header"}),Object(d.jsxs)("section",{className:"flex player-wrapper",children:[Object(d.jsx)(I,{member:c,raidTotal:o.length,totalLoot:f,attendance:O}),Object(d.jsx)(k,{items:f,maxHeight:750,playerClass:c.class,raids:o})]})]})}),C=s(14),E=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),s=t[0],n=t[1],c=Object(l.f)(),r=Object(l.g)(),o=Object(a.useState)(r.pathname.replace(/[^0-9]+/,"")),j=Object(b.a)(o,2),u=j[0],f=j[1],O=sessionStorage.getItem("state"),p=Object(a.useState)(O?JSON.parse(O):S.initialState),x=Object(b.a)(p,2),g=x[0],v=g.members,A=g.items,y=g.raids,w=x[1];Object(a.useLayoutEffect)((function(){var e=sessionStorage.getItem("state");w(e?JSON.parse(e):S.initialState)}),[w,O]),Object(a.useEffect)((function(){S.init();var e=S.subscribe(w);return y.length||h.a.all([N.get("/tabs/raids")]).then(h.a.spread((function(e){S.setRaids(e.data),S.setLoading(!1),S.setError("")}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),A.length||h.a.all([N.get("/tabs/items")]).then(h.a.spread((function(e){S.setItems(e.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),function(){e.unsubscribe()}}),[y,A]),Object(a.useEffect)((function(){u&&(console.log(A,u),n(A.filter((function(e){return e.raid_id===u}))))}),[u,A]);var k=y.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{value:e.id,label:"".concat(e.title," (").concat(e.date,")")})}));return Object(d.jsxs)("main",{className:"wrapper",children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{className:"pink",children:"Raid Overview"})}),y.length?Object(d.jsx)("div",{className:"flex search",children:Object(d.jsx)(C.a,{className:"pink select",options:k,isClearable:!0,isSearchable:!0,placeholder:"Enter or select a raid...",onChange:function(e){return f(null===e||void 0===e?void 0:e.id)}})}):null,s.length?Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Item"}),Object(d.jsx)("th",{children:"Member"})]})}),Object(d.jsx)("tbody",{children:s.map((function(e){var t=v.find((function(t){return t.id===e.member_id}));return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://tbc.wowhead.com/item=".concat(e.item_id),children:e.title})}),t&&Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{onClick:function(){return function(e){S.setMember(e),c.push("/members/id/".concat(e.id))}(t)},to:"/members/id/".concat(null===t||void 0===t?void 0:t.id),children:null===t||void 0===t?void 0:t.member})})]},e.id)}))})]}):null]})},R=function(){var e=sessionStorage.getItem("state"),t=Object(a.useState)(e?JSON.parse(e):S.initialState),s=Object(b.a)(t,2),n=s[0],c=n.error,r=n.loading,i=n.members,l=s[1];Object(a.useLayoutEffect)((function(){var e=sessionStorage.getItem("state");l(e?JSON.parse(e):S.initialState)}),[l]),Object(a.useEffect)((function(){S.init();var e=S.subscribe(l);return i.length||h.a.all([N.get(""),N.get("/tabs/roles"),N.get("/tabs/ranks"),N.get("/tabs/classes")]).then(h.a.spread((function(e,t,s,a){S.setData({members:e.data,roles:t.data,ranks:s.data,classes:a.data}),S.setLoading(!1),S.setError("")}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),function(){e.unsubscribe()}}),[i.length]);var o=i.filter((function(e){return"tank"===e.role})),j=i.filter((function(e){return"healer"===e.role})),u=i.filter((function(e){return"healer"!==e.role&&"tank"!==e.role})).sort((function(e,t){return e.class<t.class?1:e.class>t.class?-1:0}));return Object(d.jsxs)("main",{className:"wrapper",children:[o.length?Object(d.jsxs)("section",{children:[Object(d.jsxs)("p",{className:"team-role",children:[Object(d.jsx)("i",{className:"fas fa-shield-alt"}),"TANKS (",o.length,")"]}),Object(d.jsx)("div",{className:"flex",children:o.map((function(e){return Object(d.jsx)(w,{member:e,interactive:!0,propClass:""},e.id)}))})]}):null,j.length?Object(d.jsxs)("section",{children:[Object(d.jsxs)("p",{className:"team-role",children:[Object(d.jsx)("i",{className:"fas fa-medkit"}),"HEALERS (",j.length,")"]}),Object(d.jsx)("div",{className:"flex",children:j.map((function(e){return Object(d.jsx)(w,{member:e,interactive:!0,propClass:""},e.id)}))})]}):null,u.length?Object(d.jsxs)("section",{children:[Object(d.jsxs)("p",{className:"team-role",children:[Object(d.jsx)("i",{className:"fas fa-skull-crossbones"})," DPS (",u.length,")"]}),Object(d.jsx)("div",{className:"flex",children:u.map((function(e){return Object(d.jsx)(w,{member:e,interactive:!0,propClass:""},e.id)}))})]}):null,r&&Object(d.jsx)("p",{className:"pink",children:"Loading..."}),c&&Object(d.jsx)("p",{className:"pink",children:c})]})},J=(s(76),function(){var e=Object(l.g)().pathname.slice(1),t=Object(a.useState)(""),s=Object(b.a)(t,2),n=s[0],c=s[1];Object(a.useEffect)((function(){c("")}),[e]);var r=sessionStorage.getItem("state"),i=Object(a.useState)(r?JSON.parse(r):S.initialState),o=Object(b.a)(i,2),j=o[0],u=o[1];Object(a.useLayoutEffect)((function(){var e=sessionStorage.getItem("state");u(e?JSON.parse(e):S.initialState)}),[u]),Object(a.useEffect)((function(){var e=S.subscribe(u);return j.members.length||h.a.all([N.get(""),N.get("/tabs/roles"),N.get("/tabs/ranks"),N.get("/tabs/classes")]).then(h.a.spread((function(e,t,s,a){S.setData({members:e.data,roles:t.data,ranks:s.data,classes:a.data}),S.setError(""),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),function(){e.unsubscribe()}}),[j.members.length]);var f="classe"===e.slice(0,-1)?"class":e.slice(0,-1),O=j.members.filter((function(e){return e[f]===n})),p=j[e].map((function(e){return Object(m.a)(Object(m.a)({},e),{},{value:e.title,label:A(e.title)})}));return Object(d.jsxs)("main",{className:"wrapper",children:[Object(d.jsx)("header",{children:Object(d.jsxs)("h1",{className:"pink",children:[A(f)," Overview"]})}),p.length?Object(d.jsx)("div",{className:"flex search",children:Object(d.jsx)(C.a,{className:"pink select",value:p.find((function(e){return e.value===n})),options:p,isClearable:!0,isSearchable:!0,placeholder:"Please Select a ".concat(A(f)),onChange:function(e){return c(null===e||void 0===e?void 0:e.value)}})}):null,O.length?Object(d.jsx)("section",{className:"flex",children:O.map((function(e){return Object(d.jsx)(w,{member:e,interactive:!0,propClass:""},e.id)}))}):null,j.loading&&Object(d.jsx)("p",{className:"pink",children:"Loading..."}),j.error&&Object(d.jsx)("p",{className:"pink",children:j.error})]})}),D=(s(77),function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),s=t[0],n=t[1],c=sessionStorage.getItem("state"),r=Object(a.useState)(c?JSON.parse(c):S.initialState),i=Object(b.a)(r,2),l=i[0],o=l.members,j=l.lcPlayers,u=l.loading,f=l.error,O=l.raids,p=l.items,x=l.attendance,g=l.events,v=i[1],A=o.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{value:e.id,label:e.member})}));Object(a.useLayoutEffect)((function(){var e=sessionStorage.getItem("state");v(e?JSON.parse(e):S.initialState)}),[v]),Object(a.useEffect)((function(){var e=S.subscribe(v);return o.length||h.a.all([N.get(""),N.get("/tabs/roles"),N.get("/tabs/ranks"),N.get("/tabs/classes")]).then(h.a.spread((function(e,t,s,a){S.setData({members:e.data,roles:t.data,ranks:s.data,classes:a.data}),S.setLoading(!1),S.setError("")}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),O.length||h.a.all([N.get("/tabs/raids")]).then(h.a.spread((function(e){S.setRaids(e.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),p.length||h.a.all([N.get("/tabs/items")]).then(h.a.spread((function(e){S.setItems(e.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),g.length||h.a.all([N.get("/tabs/events"),N.get("/tabs/attendance")]).then(h.a.spread((function(e,t){S.setEvents(e.data,t.data),S.setLoading(!1)}))).catch((function(e){var t=404===e.response.status?"Resource not found":"An unexpected error has occurred";S.setError(t),S.setLoading(!1)})),function(){e.unsubscribe()}}),[o,O,p,g]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("lcPlayers")||"[]");S.setPlayers(e)}),[]);return Object(d.jsxs)("main",{className:"wrapper",children:[Object(d.jsxs)("header",{className:"pink",children:[Object(d.jsx)("h1",{children:"Loot Council"}),Object(d.jsx)("h4",{children:"Add players using the search below to compare"})]}),Object(d.jsx)("div",{className:"flex search",children:Object(d.jsx)(C.a,{className:"pink select",options:A,isClearable:!0,isSearchable:!0,value:A.find((function(e){return e.value===(null===s||void 0===s?void 0:s.value)}))||[],placeholder:"Enter a player...",onChange:function(e){return function(e){if(e){var t=j.concat(e);S.setPlayers(t),localStorage.setItem("lcPlayers",JSON.stringify(t)),S.setLoading(!1),n(null)}else S.setError("No player could be found"),S.setLoading(!1)}(e)}})}),u&&Object(d.jsx)("p",{className:"pink",children:"Loading..."}),f&&Object(d.jsx)("p",{className:"pink",children:f}),Object(d.jsx)("section",{className:"grid",children:j.length?j.map((function(e,t){var s=p.filter((function(t){return t.member_id===e.id})),a=x.filter((function(t){return t.member_id===e.id}));return Object(d.jsxs)("section",{className:"lc ".concat(e.class),children:[Object(d.jsx)("div",{className:"float-right",children:Object(d.jsx)("i",{className:"fas fa-lg fa-times",onClick:function(){return function(e){var t=j.filter((function(t){return t.id!==e.id}));S.setPlayers(t),localStorage.setItem("lcPlayers",JSON.stringify(t))}(e)}})}),Object(d.jsx)(w,{member:e,interactive:!0,propClass:""}),Object(d.jsxs)("div",{className:"collapsible",children:[Object(d.jsx)(I,{member:e,raidTotal:O.length,totalLoot:s,attendance:a}),Object(d.jsx)(k,{items:s,maxHeight:350,playerClass:e.class,raids:O})]})]},t)})):null})]})}),M=function(e){var t=e.formFields;return t?Object(d.jsxs)("form",{children:[Object(d.jsx)("h3",{className:"pink",children:t.title}),t.fields.map((function(e,t){return Object(d.jsxs)("section",{children:[Object(d.jsx)("label",{children:e.label}),Object(d.jsx)("input",{name:e.id,id:e.id,type:"text"})]},t)})),Object(d.jsx)("input",{name:"id",id:"id",type:"hidden"})]}):Object(d.jsx)("p",{className:"pink",children:"Sorry something went wrong!"})},H=function(){var e=Object(a.useState)(y[0]),t=Object(b.a)(e,2),s=t[0],n=t[1];return Object(d.jsx)("main",{className:"wrapper",children:Object(d.jsxs)("header",{className:"pink",children:[Object(d.jsx)("h1",{children:"Data Entry"}),Object(d.jsx)("h4",{children:"Select and use a form below to add a raid, players and attendance"}),Object(d.jsxs)("select",{className:"pink",value:s.title,onChange:function(e){return function(e){var t=y.findIndex((function(t){return t.title===e}));n(y[t])}(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Please Select a Form"}),y.map((function(e,t){return Object(d.jsx)("option",{value:e.title,children:e.title},t)}))]}),Object(d.jsx)(M,{formFields:s})]})})},U=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(R,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/classes",children:Object(d.jsx)(J,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/roles",children:Object(d.jsx)(J,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/ranks",children:Object(d.jsx)(J,{})}),Object(d.jsx)(l.a,{path:"/members/id/:playerID",children:Object(d.jsx)(L,{})}),Object(d.jsx)(l.a,{path:["/raids","/raids/:raidID"],children:Object(d.jsx)(E,{})}),Object(d.jsx)(l.a,{path:"/loot-council",children:Object(d.jsx)(D,{})}),Object(d.jsx)(l.a,{path:"/add",children:Object(d.jsx)(H,{})})]})]})},z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,82)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};s(78);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(U,{})}),document.getElementById("root")),z()}},[[79,1,2]]]);
//# sourceMappingURL=main.435fcba4.chunk.js.map